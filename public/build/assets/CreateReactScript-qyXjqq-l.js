import{r as C}from"./index-GBzf7Cls.js";import{V as h}from"./CreateReactScript-JKK_oT5p.js";import{m as c}from"./main-jzs2GwAM.js";var j,m=C;j=m.createRoot,m.hydrateRoot;const X=p=>{h({resolve:s=>`/${s}.jsx`,setup:({el:s,props:f})=>{const o=f.initialPage.props,d=(l,...t)=>{var n,r,a,i;if(t=t.map(e=>`${l}.${e}`),(r=(n=o==null?void 0:o.session)==null?void 0:n.permissions)!=null&&r.find(e=>t.includes(e.name)))return!0;const u=((a=o==null?void 0:o.session)==null?void 0:a.roles)??[];for(const e of u)if((i=e==null?void 0:e.permissions)!=null&&i.find(R=>t.includes(R.name)))return!0;return!1};c.FetchParams.headers={Accept:"application/json","Content-Type":"application/json","X-Xsrf-Token":decodeURIComponent(c.Cookies.get("XSRF-TOKEN"))},p(s,{...o,can:d})}})};export{X as C,j as c};
